version: "2.0"
stories:
- story: out of scope path
  steps:
  - intent: out_of_scope
  - action: utter_out_of_scope

- story: help
  steps:
  - intent: help
  - action: utter_help

- story: thank
  steps:
  - intent: thank
  - action: utter_welcome

- story: happy path
  steps:
  - intent: greet
  - action: utter_greet
  - action: utter_help

- story: say goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- story: bot challenge
  steps:
  - intent: bot_challenge
  - action: utter_iamabot

- story: incident form
  steps:
  - or:
    - intent: open_incident
    - intent: password_reset
    - intent: problem_email
  - action: open_incident_form
  - active_loop: open_incident_form
  - active_loop: null
  - action: action_open_incident

- story: incident form interrupted
  steps:
  - or:
    - intent: open_incident
    - intent: password_reset
    - intent: problem_email
  - action: open_incident_form
  - active_loop: open_incident_form
  - intent: help
  - action: utter_help
  - action: open_incident_form
  - active_loop: null
  - action: action_open_incident

- story: incident form interrupted
  steps:
  - or:
    - intent: open_incident
    - intent: password_reset
    - intent: problem_email
  - action: open_incident_form
  - active_loop: open_incident_form
  - intent: out_of_scope
  - action: utter_out_of_scope
  - action: open_incident_form
  - active_loop: null
  - action: action_open_incident

- story: incident status form
  steps:
  - intent: incident_status
  - action: incident_status_form
  - active_loop: incident_status_form
  - active_loop: null

- story: incident status form interrupted
  steps:
  - intent: incident_status
  - action: incident_status_form
  - active_loop: incident_status_form
  - intent: help
  - action: utter_help
  - action: incident_status_form
  - active_loop: null

- story: incident status form interrupted
  steps:
  - intent: incident_status
  - action: incident_status_form
  - active_loop: incident_status_form
  - intent: out_of_scope
  - action: utter_out_of_scope
  - action: incident_status_form
  - active_loop: null

- story: incident status form switch to open incident
  steps:
  - intent: incident_status
  - action: incident_status_form
  - active_loop: incident_status_form
  - or:
    - intent: open_incident
    - intent: password_reset
    - intent: problem_email
  - action: open_incident_form
  - active_loop: open_incident_form
  - active_loop: null
  - action: action_open_incident

- story: open incident form switch to incident status form
  steps:
  - or:
    - intent: open_incident
    - intent: password_reset
    - intent: problem_email
  - action: open_incident_form
  - active_loop: open_incident_form
  - intent: incident_status
  - action: incident_status_form
  - active_loop: incident_status_form
  - active_loop: null
